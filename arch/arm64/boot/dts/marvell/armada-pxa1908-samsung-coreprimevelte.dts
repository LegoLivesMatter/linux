#include "armada-pxa1908.dtsi"
#include "pxa1908-pinfunc.h"

/ {
	pxa,rev-id = <3928 2>;
	model = "Samsung Galaxy Core Prime VE LTE";
	compatible = "samsung,coreprimevelte", "marvell,pxa1908";

	/* Bootloader fills this in */
	memory {
		device_type = "memory";
		reg = <0 0 0 0>;
	};

	reserved-memory {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		framebuffer@17000000 {
			reg = <0 0x17000000 0 0x1800000>;
			no-map;
		};

		gpu@9000000 {
			reg = <0 0x9000000 0 0x1000000>;
		};

		/* Communications processor, aka modem */
		cp@3000000 {
			reg = <0 0x3000000 0 0x5000000>;
		};

		cm3@a000000 {
			reg = <0 0xa000000 0 0x80000>;
		};

		seclog@8000000 {
			reg = <0 0x8000000 0 0x100000>;
		};

		ramoops@8100000 {
			compatible = "ramoops";
			reg = <0 0x8100000 0 0x40000>;
			record-size = <0x8000>;
			console-size = <0x20000>;
			max-reason = <5>;
		};
	};

	fb0: framebuffer@17177000 {
		compatible = "simple-framebuffer";
		reg = <0 0x17177000 0 (480 * 800 * 4)>;
		width = <480>;
		height = <800>;
		stride = <(480 * 4)>;
		format = "a8r8g8b8";
	};

	chosen {};
};

&smmu {
	status = "okay";
};

&twsi0 {
	status = "okay";
};

&twsi1 {
	status = "okay";
};

&twsi2 {
	status = "okay";
};

&twsi3 {
	status = "okay";
};

&pmx {
	pinctrl-single,gpio-range = <&range 55 55 0>,
				    <&range 110 32 0>,
				    <&range 52 1 0>;
	pinctrl-names = "default";
	pinctrl-0 = <&mfp_pins_group_1 &mfp_pins_group_2 &mfp_pins_group_3>;

	mfp_pins_group_1: mfp_pins_group_1 {
		pinctrl-single,pins = <
			GPIO33 0
			GPIO34 0
			GPIO35 0
			GPIO36 0
		>;
		DS_MEDIUM;PULL_FLOAT;EDGE_NONE;LPM_FLOAT;
	};

	mfp_pins_group_2: mfp_pins_group_2 {
		pinctrl-single,pins = <
			DF_nCS0_SM_nCS2 1				/* +No.09 */
			DF_nCS1_SM_nCS3 1				/* -No.10 */
			DF_IO8 1					/* +No.19 */
			DF_IO10 1
			DF_IO11 1
			DF_IO12 1
			DF_IO13 1
			DF_IO14 1
			DF_RDY0 1
			DF_REn 0
			DF_WEn 0
			SM_ADVMUX 0
			SM_BE0 0
			SM_BE1 0
			SM_nCS0 1
			SM_nCS1 1					/* -No.36 */
			MMC1_CD 0					/*  No.39 */
			MMC1_DAT4 0
			MMC1_DAT5 0
			MMC1_DAT6 0
			MMC1_DAT7 0
			SLAVE_RESET_OUT 0				/*  No.57 */
			GPIO19 0					/*  No.64 */
			GPIO45 0					/*  No.45 */
			GPIO46 0					/*  No.90 */
			GPIO49 0					/* +No.93 */
			GPIO14 0
			GPIO15 0					/* -No.102 */
			GPIO75 0					/* +No.111 */
			GPIO78 0					/*  No.114 */
			GPIO3 0					/*  No.120 */
			GPIO9 0					/*  No.126 */
			GPIO86 0					/*  No.134 */
			GPIO89 0					/* +No.137 */
			GPIO91 0
		>;
		PULL_UP;LPM_FLOAT;
	};

	mfp_pins_group_3: mfp_pins_group_3 {
		pinctrl-single,pins = <
			USIM2_UCLK 0					/* +No.01 */
			USIM2_UIO 0
			USIM2_URSTn 0
			ANT_SW4 0
			PA_MODE 0
			RF_CONF_4 0					/* -No.06 */
			DF_RDY1 0					/*  No.28 */
			SM_ADV 0					/*  No.31 */
			MMC1_WP 1
		>;
		MFP_DEFAULT;
	};

	uart0_pins1: pinmux-uart0-pins1 {
		pinctrl-single,pins = <
			GPIO47 6
		>;
		MFP_DEFAULT;
	};

	uart0_pins1_sleep: pinmux-uart0-pins1-sleep {
		pinctrl-single,pins = <
			GPIO47 6
		>;
		DS_MEDIUM;PULL_NONE;EDGE_BOTH;LPM_NONE;
	};

	uart0_pins2: pinmux-uart0-pins2 {
		pinctrl-single,pins = <
			GPIO48 6
		>;
		MFP_DEFAULT;
	};

	/* no pull, no LPM */
	sdh2_pmx_func1: sdh2_pmx_func1 {
		pinctrl-single,pins = <
			ND_IO7 1
			ND_IO6 1
			ND_IO5 1
			ND_IO4 1
			ND_IO3 1
			ND_IO2 1
			ND_IO1 1
			ND_IO0 1
		>;
		MFP_PULL_UP;
	};

	sdh2_pmx_func2: sdh2_pmx_func2 {
		pinctrl-single,pins = <
			SM_SCLK 1
		>;
		MFP_LPM_DRIVE_LOW;
	};

	sdh2_pmx_func3: sdh2_pmx_func3 {
		pinctrl-single,pins = <
			ND_CLE_SM_OEN 1
		>;
		PULL_UP;LPM_FLOAT;
	};
};

&uart0 {
	pinctrl-0 = <&uart0_pins1 &uart0_pins2>;
	pinctrl-1 = <&uart0_pins1_sleep &uart0_pins2>;
	pinctrl-names = "default", "sleep";
};

&sdh2 {
	pinctrl-names = "default";
	pinctrl-0 = <&sdh2_pmx_func1 &sdh2_pmx_func2 &sdh2_pmx_func3>;
	//pinctrl-1 = <&sdh2_pmx_func1_fast &sdh2_pmx_func2_fast &sdh2_pmx_func3_fast>;
	bus-width = <8>;
	non-removable;
};